<blueprint
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

    <service
        id="dicomConfiguration"
        interface="org.dcm4che.conf.api.DicomConfiguration"
        ref="ldapConf" />

    <bean
        class="org.dcm4chee.archive.conf.ldap.LdapConfigurationFactory"
        id="ldapConf"
        activation="eager"
        factory-method="createDicomConfiguration">
        <argument>
            <props>
                <prop key="java.naming.factory.initial">com.sun.jndi.ldap.LdapCtxFactory</prop>
                <prop key="java.naming.ldap.attributes.binary">dicomVendorData</prop>
                <prop key="java.naming.provider.url">${ldap-url}</prop>
                <prop key="java.naming.security.principal">${user-dn}</prop>
                <prop key="java.naming.security.credentials">${password}</prop>
            </props>
        </argument>
    </bean>
</blueprint>